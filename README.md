# Shop API

В этом задании вам нужно будет создать полноценный Web API для кассовых аппаратов, применяя изученные вами техники
объектно-ориентированного программирования. Web API должен покрывать следующие сценарии работы кассового аппарата:
- Выводить список продуктов
- Добавлять в список новые продукты
- Назначать цены и переименовывать продукты
- Удалять неактуальные продукты
- Регистрировать покупки в виде чеков
- Печатать чеки (при обращении к методу должен скачиваться файл `docx`, MIME-тип `application/vnd.openxmlformats-officedocument.wordprocessingml.document`)

#### Требования к API:
- В качестве фреймворка должен использоваться ASP&#46;NET Core
- Спроектируйте [многослойную архитектуру](https://docs.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/common-web-application-architectures) приложения: работа с данными должна выполняться внутри репозиториев,
логика должна быть полностью инкапсулирована внутри слоя сервисов, контроллеры должны быть легковесными
и содержать только код представления
- Web API должен соответствовать рекомендациям [REST](https://en.wikipedia.org/wiki/Representational_state_transfer), в первую очередь это касается [именования путей](https://restfulapi.net/resource-naming/)
и правильного выбора [HTTP методов](https://restfulapi.net/http-methods/)
- Включите в ваш API [Swagger](https://docs.microsoft.com/en-us/aspnet/core/tutorials/getting-started-with-nswag?view=aspnetcore-5.0&tabs=visual-studio)
- Используйте DI контейнер

Часть специфичного для предметной области кода уже написана в проекте `Shop.Core`. Однако этот код явно требует некоторого
рефакторинга.

#### Дополнительные задания

##### 1. Кэширование
Число кассовых аппаратов, работающих с нашим API, сильно выросло. Исследования показали, что узким местом системы
является работа с СУБД. Для снижения числа обращений к СУБД часто используют кэши. В C# уже существует [класс](https://docs.microsoft.com/en-us/dotnet/api/system.runtime.caching.memorycache?view=dotnet-plat-ext-5.0), реализующий
кэш в локальной памяти приложения. Подумайте, в каком слое лучше всего было бы разместить работу с кэшем? Добавьте кэш
в ваше приложение. И не забудьте про инвалидацию.

##### 2. Юнит-тесты
Написание юнит-тестов разработчиком помогает находить различные ошибки в системе ещё до этапа тестирования.
Напишите несколько юнит-тестов для какого-нибудь сервиса. Не обращайтесь к настоящим данным - воспользуйтесь Mock'ами репозиториев.
Используйте ваши любимые Mock-библиотеки и библиотеки для юнит-тестирования, например, [Moq](https://github.com/Moq/moq4/wiki/Quickstart) и [NUnit](https://github.com/nunit/nunit-csharp-samples).